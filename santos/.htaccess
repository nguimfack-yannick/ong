# Activer la réécriture d'URL
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Rediriger vers index.php toutes les requêtes qui ne pointent pas sur un fichier ou dossier existant
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php?$1 [L,QSA]
</IfModule>

# Définir l’encodage par défaut
AddDefaultCharset UTF-8

# Protéger certains fichiers sensibles
<FilesMatch "\.(env|htaccess|git|ini|log)$">
    Order Allow,Deny
    Deny from all
</FilesMatch>

# Définir la page d’erreur
ErrorDocument 404 /index.php

# Activer la compression gzip (si supportée)
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/javascript application/json
</IfModule>

# Activer la mise en cache pour de meilleures performances
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
    ExpiresByType text/css "access plus 1 week"
    ExpiresByType application/javascript "access plus 1 week"
    ExpiresByType text/html "access plus 0 seconds"
</IfModule>
